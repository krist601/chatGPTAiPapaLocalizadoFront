<div class="street-view">
  <h2>Street View</h2>
  
  <!-- Visor simple para fotos -->
  <div class="photo-viewer" *ngIf="photo">
    
    <!-- Contenedor para Pannellum (360Â°) -->
    <div id="panorama-container" *ngIf="photo.is360" class="panorama-viewer"></div>
    
    <!-- Imagen simple para fotos regulares -->
    <img *ngIf="!photo.is360" [src]="photo.url" alt="Street View Photo" class="street-photo" 
         (load)="onImageLoad()" (error)="onImageError($event)"/>
    
    <div class="photo-overlay">
      <h3>ğŸ“ {{ photo.metadata?.streetName || 'Unknown Location' }}</h3>
      <p>{{ photo.metadata?.description || 'Street view photo' }}</p>
    </div>
    
    <!-- Controles simples -->
    <div class="simple-controls">
      <button (click)="closePhoto()" class="nav-btn close-btn">âœ• Close</button>
    </div>
    
    <!-- Controles especÃ­ficos para 360Â° -->
    <div class="panorama-controls" *ngIf="photo.is360">
      <div class="control-group movement">
        <button (click)="moveBackward()" class="nav-btn move">â† Back</button>
        <button (click)="moveForward()" class="nav-btn move">Forward â†’</button>
      </div>
      <div class="control-group rotation">
        <button (click)="turnLeft()" class="nav-btn">â†º Left</button>
        <button (click)="turnRight()" class="nav-btn">â†» Right</button>
      </div>
      <div class="control-group zoom">
        <button (click)="zoomIn()" class="nav-btn zoom">ğŸ”+ In</button>
        <button (click)="zoomOut()" class="nav-btn zoom">ğŸ”- Out</button>
      </div>
      <div class="control-group special">
        <button (click)="resetView()" class="nav-btn reset">ğŸ¯ Reset</button>
        <button (click)="toggleFullscreen()" class="nav-btn fullscreen">â›¶ Fullscreen</button>
      </div>
    </div>
    
    <!-- InformaciÃ³n de navegaciÃ³n -->
    <div class="nav-info" *ngIf="photo.is360">
      <div class="view-info">
        <span class="label">View:</span>
        <span class="value">{{ currentYaw | number:'1.0-0' }}Â° | {{ currentPitch | number:'1.0-0' }}Â°</span>
      </div>
      <div class="zoom-info">
        <span class="label">Zoom:</span>
        <span class="value">{{ currentZoom | number:'1.0-0' }}%</span>
      </div>
    </div>
    
    <!-- InformaciÃ³n de la foto -->
    <div class="photo-info">
      <div class="photo-type-badge" [class.is-360]="photo.is360">
        {{ photo.is360 ? '360Â° PANORAMA' : 'REGULAR PHOTO' }}
      </div>
      <p><strong>ğŸ“ Location:</strong> {{ photo.coordinates.latitude | number:'1.4-4' }}, {{ photo.coordinates.longitude | number:'1.4-4' }}</p>
      <p><strong>ğŸ§­ Direction:</strong> {{ photo.direction }}Â°</p>
      <p><strong>ğŸ“· Camera:</strong> {{ photo.metadata?.camera || 'Unknown' }}</p>
      <p *ngIf="photo.metadata?.streetName"><strong>ğŸ›£ï¸ Street:</strong> {{ photo.metadata.streetName }}</p>
      <p><strong>ğŸ“ Resolution:</strong> {{ photo.metadata?.resolution || 'Unknown' }}</p>
      <p *ngIf="photo.is360 && photo.pitch !== undefined"><strong>â¬†ï¸ Pitch:</strong> {{ photo.pitch }}Â°</p>
      <p *ngIf="photo.is360 && photo.yaw !== undefined"><strong>ğŸ”„ Yaw:</strong> {{ photo.yaw }}Â°</p>
    </div>
  </div>
  
  <!-- Pantalla de bienvenida -->
  <div class="no-photo" *ngIf="!photo">
    <h3>ğŸŒ Explore Street View</h3>
    <p>Click on any marker in the map to start exploring 360Â° panoramic photos</p>
    
    <div class="features-list">
      <div class="feature">
        <span class="icon">ğŸ—ºï¸</span>
        <span>Interactive world map</span>
      </div>
      <div class="feature">
        <span class="icon">ğŸ“¸</span>
        <span>360Â° panoramic photos</span>
      </div>
      <div class="feature">
        <span class="icon">ğŸ®</span>
        <span>Full navigation controls</span>
      </div>
      <div class="feature">
        <span class="icon">ğŸ”</span>
        <span>Zoom and explore details</span>
      </div>
    </div>
  </div>
</div>